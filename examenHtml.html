<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Productos</title>
    <style>
        body {
            font-family: Arial;
            margin: 20px;
            background-color: lightblue;
        }

        h1 {
            color: blue;
            text-align: center;
        }

        h2 {
            color: darkblue;
        }

        form {
            background-color: white;
            padding: 20px;
            border: 2px solid blue;
        }

        input, textarea {
            width: 300px;
            padding: 5px;
            margin: 5px;
            border: 1px solid gray;
        }

        button {
            background-color: blue;
            color: white;
            padding: 10px 20px;
            border: none;
            margin: 10px;
        }

        button:hover {
            background-color: darkblue;
        }

        .btn-borrar {
            background-color: red;
        }

        .btn-borrar:hover {
            background-color: darkred;
        }

        p {
            font-size: 16px;
            margin: 10px;
        }

        .lista-productos {
            background-color: white;
            padding: 15px;
            border: 2px solid blue;
            margin: 20px 0;
        }

        .producto-item {
            background-color: lightgray;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid gray;
        }

        hr {
            border: 1px solid gray;
            margin: 20px 0;
        }

        .navegacion {
            margin: 20px 0;
            text-align: center;
        }

        .oculto {
            display: none;
        }

        .ventana-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: white;
            border: 3px solid;
            padding: 30px;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            z-index: 1000;
            text-align: center;
            border-radius: 10px;
            min-width: 300px;
        }

        .fondo-oscuro {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            z-index: 999;
        }

        .ventana-exito {
            border-color: green;
        }

        .ventana-error {
            border-color: red;
        }

        .ventana-confirmacion {
            border-color: orange;
        }

        .btn-cerrar {
            background-color: green;
            margin-top: 15px;
        }

        .btn-cerrar:hover {
            background-color: darkgreen;
        }

        .btn-cancelar {
            background-color: gray;
            margin-top: 15px;
        }

        .btn-cancelar:hover {
            background-color: darkgray;
        }

        .btn-confirmar {
            background-color: orange;
            margin-top: 15px;
        }

        .btn-confirmar:hover {
            background-color: darkorange;
        }
    </style>
</head>
<body>
<h1>Sistema de Gestión de Productos</h1>

<div class="navegacion">
    <button type="button" onclick="mostrarFormulario()">Agregar Producto</button>
    <button type="button" onclick="mostrarLista()">Ver Lista de Productos</button>
    <button type="button" onclick="confirmarBorrarTodo()" class="btn-borrar">Borrar Todo</button>
</div>

<div id="seccion-formulario">
    <h2>Agregar Nuevo Producto</h2>
    <form id="formulario-producto">
        <label for="nombre">Nombre del Producto:</label><br>
        <input type="text" id="nombre" name="nombre" required><br><br>

        <label for="descripcion">Descripción:</label><br>
        <textarea id="descripcion" name="descripcion" rows="4" cols="50" required></textarea><br><br>

        <label for="precio">Precio:</label><br>
        <input type="text" id="precio" name="precio" required><br><br>

        <button type="button" onclick="guardarProducto()">Guardar Producto</button>
    </form>
</div>

<div id="seccion-lista" class="oculto">
    <h2>Lista de Productos Guardados</h2>

    <div id="contenido-lista">
        <p id="mensaje-vacio">No hay productos guardados todavía.</p>
        <div class="lista-productos oculto" id="lista-productos">
            <p id="total-productos"><strong>Total de productos:</strong> 0</p>
            <div id="productos-container"></div>
        </div>
    </div>
</div>

<div id="ventana-exito" class="oculto">
    <div class="fondo-oscuro" onclick="cerrarVentanaExito()"></div>
    <div class="ventana-modal ventana-exito">
        <h3 style="color: green;">¡Producto Guardado Exitosamente!</h3>
        <p>El producto ha sido agregado a la lista correctamente.</p>
        <button type="button" class="btn-cerrar" onclick="cerrarVentanaExito()">Cerrar</button>
    </div>
</div>

<div id="ventana-error" class="oculto">
    <div class="fondo-oscuro" onclick="cerrarVentanaError()"></div>
    <div class="ventana-modal ventana-error">
        <h3 style="color: red;">Error</h3>
        <p id="mensaje-error">Por favor, completa todos los campos</p>
        <button type="button" class="btn-cerrar" onclick="cerrarVentanaError()">Cerrar</button>
    </div>
</div>

<div id="ventana-confirmacion-borrar" class="oculto">
    <div class="fondo-oscuro" onclick="cerrarVentanaConfirmacionBorrar()"></div>
    <div class="ventana-modal ventana-confirmacion">
        <h3 style="color: orange;">Confirmar Eliminación</h3>
        <p>¿Estás seguro de borrar este producto?</p>
        <button type="button" class="btn-confirmar" onclick="ejecutarBorrarProducto()">Sí, Borrar</button>
        <button type="button" class="btn-cancelar" onclick="cerrarVentanaConfirmacionBorrar()">Cancelar</button>
    </div>
</div>

<div id="ventana-confirmacion-borrar-todo" class="oculto">
    <div class="fondo-oscuro" onclick="cerrarVentanaConfirmacionBorrarTodo()"></div>
    <div class="ventana-modal ventana-confirmacion">
        <h3 style="color: orange;">Confirmar Eliminación Total</h3>
        <p>¿Estás seguro de borrar TODOS los productos?<br>Esta acción no se puede deshacer.</p>
        <button type="button" class="btn-confirmar" onclick="ejecutarBorrarTodo()">Sí, Borrar Todo</button>
        <button type="button" class="btn-cancelar" onclick="cerrarVentanaConfirmacionBorrarTodo()">Cancelar</button>
    </div>
</div>

<div id="ventana-borrado-exito" class="oculto">
    <div class="fondo-oscuro" onclick="cerrarVentanaBorradoExito()"></div>
    <div class="ventana-modal ventana-exito">
        <h3 style="color: green;">¡Eliminado Exitosamente!</h3>
        <p id="mensaje-borrado">Producto borrado exitosamente</p>
        <button type="button" class="btn-cerrar" onclick="cerrarVentanaBorradoExito()">Cerrar</button>
    </div>
</div>

<div id="ventana-info" class="oculto">
    <div class="fondo-oscuro" onclick="cerrarVentanaInfo()"></div>
    <div class="ventana-modal ventana-error">
        <h3 style="color: blue;">Información</h3>
        <p>No hay productos para borrar</p>
        <button type="button" class="btn-cerrar" onclick="cerrarVentanaInfo()">Cerrar</button>
    </div>
</div>

<script>
    var productos = [];
    var idProductoABorrar = null;

    function generarId() {
        return Date.now().toString();
    }

    function mostrarFormulario() {
        document.getElementById('seccion-formulario').classList.remove('oculto');
        document.getElementById('seccion-lista').classList.add('oculto');
    }

    function mostrarLista() {
        document.getElementById('seccion-formulario').classList.add('oculto');
        document.getElementById('seccion-lista').classList.remove('oculto');
        actualizarLista();
    }

    function guardarProducto() {
        var nombre = document.getElementById('nombre').value;
        var descripcion = document.getElementById('descripcion').value;
        var precio = document.getElementById('precio').value;

        if (nombre === '' || descripcion === '' || precio === '') {
            mostrarVentanaError('Por favor, completa todos los campos');
            return;
        }

        var nuevoProducto = {
            id: generarId(),
            nombre: nombre,
            descripcion: descripcion,
            precio: precio
        };

        productos.push(nuevoProducto);
        document.getElementById('formulario-producto').reset();
        mostrarVentanaExito();
    }

    function actualizarLista() {
        var mensajeVacio = document.getElementById('mensaje-vacio');
        var listaProductos = document.getElementById('lista-productos');
        var totalProductos = document.getElementById('total-productos');
        var productosContainer = document.getElementById('productos-container');

        if (productos.length === 0) {
            mensajeVacio.classList.remove('oculto');
            listaProductos.classList.add('oculto');
        } else {
            mensajeVacio.classList.add('oculto');
            listaProductos.classList.remove('oculto');

            totalProductos.innerHTML = '<strong>Total de productos:</strong> ' + productos.length;
            productosContainer.innerHTML = '';

            for (var i = 0; i < productos.length; i++) {
                var producto = productos[i];
                var productoDiv = document.createElement('div');
                productoDiv.className = 'producto-item';

                var html = '<h4>' + producto.nombre + '</h4>';
                html += '<p><strong>Descripción:</strong> ' + producto.descripcion + '</p>';
                html += '<p><strong>Precio:</strong> $' + producto.precio + '</p>';
                html += '<button type="button" class="btn-borrar" onclick="confirmarBorrarProducto(\'' + producto.id + '\')">Borrar</button>';

                productoDiv.innerHTML = html;
                productosContainer.appendChild(productoDiv);
            }
        }
    }

    function mostrarVentanaExito() {
        document.getElementById('ventana-exito').classList.remove('oculto');
    }

    function cerrarVentanaExito() {
        document.getElementById('ventana-exito').classList.add('oculto');
        mostrarLista();
    }

    function mostrarVentanaError(mensaje) {
        document.getElementById('mensaje-error').textContent = mensaje;
        document.getElementById('ventana-error').classList.remove('oculto');
    }

    function cerrarVentanaError() {
        document.getElementById('ventana-error').classList.add('oculto');
    }

    function confirmarBorrarProducto(id) {
        idProductoABorrar = id;
        document.getElementById('ventana-confirmacion-borrar').classList.remove('oculto');
    }

    function ejecutarBorrarProducto() {
        if (idProductoABorrar) {
            for (var i = 0; i < productos.length; i++) {
                if (productos[i].id === idProductoABorrar) {
                    productos.splice(i, 1);
                    break;
                }
            }
            actualizarLista();
            cerrarVentanaConfirmacionBorrar();
            mostrarVentanaBorradoExito('Producto borrado exitosamente');
        }
    }

    function cerrarVentanaConfirmacionBorrar() {
        document.getElementById('ventana-confirmacion-borrar').classList.add('oculto');
        idProductoABorrar = null;
    }

    function confirmarBorrarTodo() {
        if (productos.length === 0) {
            mostrarVentanaInfo();
            return;
        }
        document.getElementById('ventana-confirmacion-borrar-todo').classList.remove('oculto');
    }

    function ejecutarBorrarTodo() {
        productos = [];
        actualizarLista();
        cerrarVentanaConfirmacionBorrarTodo();
        mostrarVentanaBorradoExito('Todos los productos han sido borrados exitosamente');
    }

    function cerrarVentanaConfirmacionBorrarTodo() {
        document.getElementById('ventana-confirmacion-borrar-todo').classList.add('oculto');
    }

    function mostrarVentanaBorradoExito(mensaje) {
        document.getElementById('mensaje-borrado').textContent = mensaje;
        document.getElementById('ventana-borrado-exito').classList.remove('oculto');
    }

    function cerrarVentanaBorradoExito() {
        document.getElementById('ventana-borrado-exito').classList.add('oculto');
    }

    function mostrarVentanaInfo() {
        document.getElementById('ventana-info').classList.remove('oculto');
    }

    function cerrarVentanaInfo() {
        document.getElementById('ventana-info').classList.add('oculto');
    }

    window.onload = function() {
        mostrarFormulario();
    };
</script>

</body>
</html>